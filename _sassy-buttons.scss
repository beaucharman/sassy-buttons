//
// Sassy Buttons
// ========================================================================
// _sassy_buttons.scss
// @version 1.0 | Saturday, June 8th 2013
// @author  Beau Charman | @beaucharman | http://www.beaucharman.me
// @link    https://github.com/beaucharman/
// @license MIT license
//
// For useful mixins: http://getpreboot.com/
// ======================================================================== /

// Variables
// ======================================================================== /

// Gradient Vertical
// ========================================================================
// gradient-vertical()
// @param {string} $startColor
// @param {string} $endColor
// Mixin from http://getpreboot.com/
// ======================================================================== /
@mixin gradient-vertical($startColor: #555, $endColor: #333) {
  background-color: $endColor;
  background-image: -moz-linear-gradient(top, $startColor, $endColor); // FF 3.6+
  background-image: -webkit-gradient(linear, 0 0, 0 100%, from($startColor), to($endColor)); // Safari 4+, Chrome 2+
  background-image: -webkit-linear-gradient(top, $startColor, $endColor); // Safari 5.1+, Chrome 10+
  background-image: -o-linear-gradient(top, $startColor, $endColor); // Opera 11.10
  background-image: linear-gradient(to bottom, $startColor, $endColor); // Standard, IE10
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#{ie_hex_str($startColor)}', endColorstr='#{ie_hex_str($endColor)}', GradientType=0); // IE9 and down
}

%border-box-sizing {
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;
}

// Sassy Button
// ========================================================================
// sassy-button() Sass mixin
// @param {string}  $handle
// @param {string}  $background-color
// @param {string}  $color
// @param {boolean} $inverted | use true or false
// @param {boolean} $high-contrast | use true or false
// Dependancies: gradient-vertical()
// ======================================================================== /
@mixin sassy-button($handle: subtle, $background-color: #ccc, $foreground-color: #444, $inverted: false, $high-contrast: false) {

  //
  // Set up selectors for each button
  //
  $defualt: subtle;
  $selector: '.btn';
  @if($handle != $defualt) {
    $selector: '.btn--#{$handle}';
  } @else {
    $inverted: true;
  }

  //
  // Initial state
  //
  #{$selector},
  #{$selector}:link,
  #{$selector}:visited {
    color: $foreground-color;
    border-color: darken($background-color, 1%);
    border-bottom-color: darken($background-color, 10%);
    @include gradient-vertical(lighten($background-color, 12%), $background-color);
    @if($inverted == true) {
      text-shadow: 0 1px 0 lighten($background-color, 18%);
    } @else {
      text-shadow: 0 -1px 0 darken($background-color, 4%);
    }
  }

  //
  // Hover state
  //
  #{$selector}:hover {
    @if($high-contrast == true) {
      text-shadow: none;
      color: darken($background-color, 3%);
      border-color: darken($foreground-color, 8%);
      @include gradient-vertical(lighten($foreground-color, 18%), lighten($foreground-color, 8%));
    } @else {
      color: darken($foreground-color, 3%);
      border-color: darken($background-color, 8%);
      @include gradient-vertical(lighten($background-color, 18%), lighten($background-color, 8%));
    }
  }

  //
  // Active state
  //
  #{$selector}:active {
    @if($high-contrast == true) {
      @include gradient-vertical(darken($foreground-color, 15%), darken($foreground-color, 13%));
    } @else {
      @include gradient-vertical(darken($background-color, 3%), darken($background-color, 1%));
    }
  }

  //
  // Inactive
  //
  #{$selector}--inactive {
    @include gradient-vertical(lighten($background-color, 15%), $background-color);
  }
}

// Styles
// ======================================================================== /

// Base styling
.btn {
  background-image: none;
  background-color: transparent;
  border: 1px solid;
  font-size: 1em;
  font-family: sans-serif;
  padding: 0.5em 1.5em;
  margin: 0;
  cursor: pointer;
  letter-spacing: 1px;
  display: inline-block;
  text-align: center;
  font-weight: 400;
  border-radius: 3px;
  line-height: 1.4;
  text-decoration: none;
  @extend %border-box-sizing;
}

// Various states and apparences
.btn:active {
  box-shadow: inset 0 1px 8px -2px #000;
  text-shadow: 0 0 8px #fff !important;
}

.btn--large {
  font-size: 1.5em;
}

.btn--small {
  font-size: 0.75em;
}

.btn--narrow {
  padding: 0.15em 0.75em;
}

.btn--block {
  width: 100%;
  display: block;
}

// Set up the initial
// default button object
@include sassy-button();
